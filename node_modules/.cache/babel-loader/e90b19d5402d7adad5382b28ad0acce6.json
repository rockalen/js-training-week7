{"remainingRequest":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\src\\components\\ProductModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\src\\components\\ProductModal.vue","mtime":1595821718028},{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\BINE\\Desktop\\JS_HW\\master\\js-w6\\project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZW1wUHJvZHVjdDogewogICAgICAgIGltYWdlVXJsOiBbXSwKICAgICAgICBvcHRpb25zOiB7fQogICAgICB9LAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHByb2R1Y3RpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgc3RhdHVzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgaXNOZXc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaKk+WPluWAi+WIpeeUouWTgeizh+aWmeWHveaVuAogICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24gZ2V0UHJvZHVjdChpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8g6YGg56uv5a2Y5Y+WTG9hZGluZ+eVq+mdouaJk+mWiwogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7IC8vIOioreWumiBBUEkg6YGg56uv6YCj57ea5a2X5LiyCgogICAgICB2YXIgYXBpID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgIi8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9VVUlELCAiL2FkbWluL2VjL3Byb2R1Y3QvIikuY29uY2F0KGlkKTsKICAgICAgdGhpcy5heGlvcy5nZXQoYXBpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyB3aW5kb3cuJCgnI3Byb2R1Y3RNb2RhbCcpLm1vZGFsKCdzaG93JykKICAgICAgICAvLyDpgI/pgY4gYXhpb3MgQVBJIOWPluWbnumBoOerr+eUouWTgeizh+aWmQogICAgICAgIF90aGlzLnRlbXBQcm9kdWN0ID0gcmVzLmRhdGEuZGF0YTsgLy8g6YGg56uv5a2Y5Y+WTG9hZGluZ+eVq+mdoumXnOmWiQoKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlop7jgIHmm7TmlrDlgIvliKXnlKLlk4Hlh73mlbgKICAgIHVwZGF0ZVByb2R1Y3Q6IGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5a6a576p6KaB5pu05paw55qEQVBJ77yM5aaC5p6c5paw5aKe77yM5YmHaHR0cE1ldGhvZOaTjeS9nOeCunBvc3TvvIznt6jovK/ngrpwYXRjaAogICAgICB2YXIgYXBpVXJsID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgIi8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9VVUlEKTsKICAgICAgdmFyIGFwaSA9ICIiLmNvbmNhdChhcGlVcmwsICIvYWRtaW4vZWMvcHJvZHVjdCIpOyAvLyDms6jmhI9odHRwTWV0aG9k6KaB5bCP5a+rCgogICAgICB2YXIgaHR0cE1ldGhvZCA9ICdwb3N0JzsgLy8g6Kit5a6a5pu05paw55Si5ZOBYXBp6Lev5b6RCgogICAgICBpZiAoIXRoaXMuaXNOZXcpIHsKICAgICAgICBhcGkgPSAiIi5jb25jYXQoYXBpVXJsLCAiL2FkbWluL2VjL3Byb2R1Y3QvIikuY29uY2F0KHRoaXMudGVtcFByb2R1Y3QuaWQpOwogICAgICAgIGh0dHBNZXRob2QgPSAncGF0Y2gnOwogICAgICB9IC8vIHRva2Vu5bey5a6a576p5ZyoY3JlYXRlZOaZguacnwogICAgICAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3RoaXMudXNlci50b2tlbn1gOwogICAgICAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3RoaXMudXNlci50b2tlbn1gOwogICAgICAvLyDpgI/pgY4gYXhpb3NbaHR0cE1ldGhvZF0g5Z+36KGMcG9zdCDmiJYgcGF0Y2gg5pON5L2cCgoKICAgICAgdGhpcy5heGlvc1todHRwTWV0aG9kXShhcGksIHRoaXMudGVtcFByb2R1Y3QpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy4kKCcjcHJvZHVjdE1vZGFsJykubW9kYWwoJ2hpZGUnKTsgLy8g5ZG85Y+r5aSW5bGk5pu05paw55Wr6Z2iCgogICAgICAgIF90aGlzMi4kZW1pdCgndXBkYXRlJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Y+D6ICD56+E5L6L5Yqg5YWl5LiK5YKz5qqU5qGICiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB1cGxvYWRlZEZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF07CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB1cGxvYWRlZEZpbGUpOwogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJUEFUSCwgIi8iKS5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9VVUlELCAiL2FkbWluL3N0b3JhZ2UiKTsKICAgICAgdGhpcy5zdGF0dXMuZmlsZVVwbG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuYXhpb3MucG9zdCh1cmwsIGZvcm1EYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuc3RhdHVzLmZpbGVVcGxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMudGVtcFByb2R1Y3QuaW1hZ2VVcmwucHVzaChyZXNwb25zZS5kYXRhLmRhdGEucGF0aCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+S4iuWCs+S4jeWPr+i2hemBjiAyIE1CJyk7CiAgICAgICAgX3RoaXMzLnN0YXR1cy5maWxlVXBsb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ProductModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"productModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n              <div class=\"modal-content\">\r\n                <div :class=\"{'bg-primary': isNew , 'bg-success': !isNew}\" class=\"modal-header text-white\">\r\n                  <h5 v-if=\"isNew\" class=\"modal-title\" id=\"productModalLabel\">新增資料</h5>\r\n                  <h5 v-else class=\"modal-title\" id=\"productModalLabel\">編輯資料</h5>\r\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\" class=\"text-white\">&times;</span>\r\n                  </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <form>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-4\">\r\n                                <!-- <div class=\"form-group\">\r\n                                    <label for=\"imageUrl\" class=\"col-form-label\">輸入圖片網址:</label>\r\n                                    <input v-model=\"tempProduct.imageUrl\" type=\"text\" class=\"form-control\" id=\"imageUrl\" placeholder=\"請輸入圖片連結位址\">\r\n                                </div> -->\r\n                                <div v-for=\"i in 5\" :key=\"i + 'img'\" class=\"form-group\">\r\n                                    <label :for=\"'img' + i\">輸入圖片網址</label>\r\n                                    <input :id=\"'img' + i\" v-model=\"tempProduct.imageUrl[i - 1]\" type=\"text\" class=\"form-control\"\r\n                                      placeholder=\"請輸入圖片連結\">\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"customFile\">\r\n                                      或 上傳圖片\r\n                                      <i v-if=\"status.fileUploading\" class=\"fas fa-spinner fa-spin\"></i>\r\n                                    </label>\r\n                                    <input id=\"customFile\" ref=\"file\" type=\"file\" class=\"form-control\" @change=\"uploadFile\">\r\n                                </div>\r\n                                <!-- <img :src=\"tempProduct.imageUrl\" alt=\"\" class=\"image-fluid\"> -->\r\n                                <!-- <div v-if=\"isNew\" class=\"d-none\"></div> -->\r\n                                <div class=\"card\">\r\n                                    <img class=\"card-img-top\" :src=\"tempProduct.imageUrl[0]\" alt>\r\n                                    <div class=\"card-body\">\r\n                                      <p v-if=\"isNew\" class=\"card-text\">輸入圖片網址後立即預覽圖片</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"imgStyle\" class=\"col-form-label\">Image Style:</label>\r\n                                    <input v-model=\"tempProduct.options.imgStyle\" type=\"text\" class=\"form-control\" id=\"imgStyle\" placeholder=\"請輸入圖片樣式(css)\">\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-8\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"title\" class=\"col-form-label\">標題</label>\r\n                                    <input v-model=\"tempProduct.title\" type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入產品標題\">\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"form-group col-md-6\">\r\n                                        <label for=\"category\" class=\"col-form-label\">類別</label>\r\n                                        <input v-model=\"tempProduct.category\" type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入類別\">\r\n                                    </div>\r\n                                    <div class=\"form-group col-md-6\">\r\n                                        <label for=\"unit\" class=\"col-form-label\">單位</label>\r\n                                        <input v-model=\"tempProduct.unit\" type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"form-group col-md-6\">\r\n                                        <label for=\"origin_price\" class=\"col-form-label\">原價</label>\r\n                                        <input v-model=\"tempProduct.origin_price\" type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\">\r\n                                    </div>\r\n                                    <div class=\"form-group col-md-6\">\r\n                                        <label for=\"price\" class=\"col-form-label\">售價</label>\r\n                                        <input v-model=\"tempProduct.price\" type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\">\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"description\" class=\"col-form-label\">產品描述</label>\r\n                                    <textarea v-model=\"tempProduct.description\" class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\"></textarea>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"content\" class=\"col-form-label\">產品內容介紹</label>\r\n                                    <textarea v-model=\"tempProduct.content\" class=\"form-control\" id=\"content\" placeholder=\"請輸入產品內容介紹\"></textarea>\r\n                                </div>\r\n                                <div class=\"form-row\">\r\n                                    <div class=\"form-group col-md-4\">\r\n                                        <div class=\"form-check\">\r\n                                            <input id=\"onSale\" v-model=\"tempProduct.options.onSale\" class=\"form-check-input\" type=\"checkbox\"\r\n                                              :true-value=\"true\" :false-value=\"false\">\r\n                                            <label class=\"form-check-label\" for=\"onSale\">是否特價</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"form-group col-md-5\">\r\n                                        <div class=\"form-check\">\r\n                                            <input id=\"is_enabled\" v-model=\"tempProduct.enabled\" class=\"form-check-input\" type=\"checkbox\"\r\n                                              :true-value=\"true\" :false-value=\"false\">\r\n                                            <label class=\"form-check-label\" for=\"is_enabled\">是否上架(顯示於前台)</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"form-group col-md-3\">\r\n                                      <label for=\"order\" class=\"col-form-label\">顯示序號</label>\r\n                                      <input v-model=\"tempProduct.options.order\" class=\"form-control\" type=\"number\" name=\"order\" id=\"order\" placeholder=\"請輸入顯示序號\" >\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">取消</button>\r\n                  <button @click=\"updateProduct()\" type=\"button\" :class=\"{'btn-primary':isNew,'btn-success':!isNew}\" class=\"btn\">確認送出</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n             <!-- Vue Loading Overlay Component -->\r\n        <loading :active.sync=\"isLoading\"></loading>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: '',\r\n  data () {\r\n    return {\r\n      tempProduct: {\r\n        imageUrl: [],\r\n        options: {}\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  props: {\r\n    productid: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    status: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n        }\r\n      }\r\n    },\r\n    isNew: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 抓取個別產品資料函數\r\n    getProduct (id) {\r\n      // 遠端存取Loading畫面打開\r\n      this.isLoading = true\r\n      // 設定 API 遠端連線字串\r\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/admin/ec/product/${id}`\r\n      this.axios.get(api).then((res) => {\r\n        // window.$('#productModal').modal('show')\r\n        // 透過 axios API 取回遠端產品資料\r\n        this.tempProduct = res.data.data\r\n        // 遠端存取Loading畫面關閉\r\n        this.isLoading = false\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    // 新增、更新個別產品函數\r\n    updateProduct () {\r\n      // 定義要更新的API，如果新增，則httpMethod操作為post，編輯為patch\r\n      const apiUrl = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}`\r\n      let api = `${apiUrl}/admin/ec/product`\r\n      // 注意httpMethod要小寫\r\n      let httpMethod = 'post'\r\n      // 設定更新產品api路徑\r\n      if (!this.isNew) {\r\n        api = `${apiUrl}/admin/ec/product/${this.tempProduct.id}`\r\n        httpMethod = 'patch'\r\n      }\r\n      // token已定義在created時期\r\n      // axios.defaults.headers.common.Authorization = `Bearer ${this.user.token}`;\r\n      // axios.defaults.headers.common['Authorization'] = `Bearer ${this.user.token}`;\r\n      // 透過 axios[httpMethod] 執行post 或 patch 操作\r\n      this.axios[httpMethod](api, this.tempProduct).then(() => {\r\n        window.$('#productModal').modal('hide')\r\n        // 呼叫外層更新畫面\r\n        this.$emit('update')\r\n      }).catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    // 參考範例加入上傳檔案\r\n    uploadFile () {\r\n      const uploadedFile = this.$refs.file.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file', uploadedFile)\r\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/admin/storage`\r\n      this.status.fileUploading = true\r\n      this.axios.post(url, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      }).then((response) => {\r\n        this.status.fileUploading = false\r\n        if (response.status === 200) {\r\n          this.tempProduct.imageUrl.push(response.data.data.path)\r\n        }\r\n      }).catch(() => {\r\n        console.log('上傳不可超過 2 MB')\r\n        this.status.fileUploading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components"}]}