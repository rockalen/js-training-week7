(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-767a8ffc"],{"290c":function(t,e,a){"use strict";var i=a("f08e"),s=a.n(i);s.a},"6a85":function(t,e,a){},bcf8:function(t,e,a){"use strict";var i=a("6a85"),s=a.n(i);s.a},e6dc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("div",{staticClass:"static-sub-menu container-fluid mb-4 mb-md-7 d-none d-md-block",attrs:{id:"staticSubMenu"}},[a("ul",{staticClass:"nav sub-menu-item text-capitalize container",attrs:{id:"sub-menu-item"}},t._l(t.classMenu,(function(e,i){return a("li",{key:i,staticClass:"nav-item border-0 font-size-16 font-size-md-24 my-3"},[a("a",{staticClass:"font-weight-bold nav-link p-0",class:e.link==t.category?"text-main":"",attrs:{"data-toggle":"list",href:"#list-filter"},on:{click:function(a){t.category=e.link,t.getItem}}},[t._v(" "+t._s(e.name)),a("sup",[t._v(t._s(e.number))])])])})),0)]),a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"product-item container card-columns mb-5",attrs:{id:"productList"}},[t._l(t.filterProducts,(function(e,i){return a("div",{key:i,staticClass:"card",on:{click:function(a){return t.getProduct(e.id)}}},[a("img",{staticClass:"card-img",attrs:{src:e.imageUrl[0]}}),e.price<e.origin_price?a("div",{staticClass:"card-img-overlay p-3"},[a("p",{staticClass:"card-text text-right text-white font-size-14 text-capitalize"},[t._v(" on sale ")])]):t._e(),a("div",{staticClass:"card-body text-left p-0 pt-1"},[a("h5",{staticClass:"card-title mb-1 text-capitalize font-size-md-24 font-weight-bold"},[t._v(" "+t._s(e.title)+" ")]),a("p",{staticClass:"card-text font-size-16 text-truncate mb-1"},[t._v(" "+t._s(e.content)+" ")]),a("div",{staticClass:"d-flex align-items-baseline"},[e.price<e.origin_price?a("del",{staticClass:"text-muted font-size-16 mr-2"},[t._v(" "+t._s(t._f("money")(e.origin_price)))]):t._e(),a("div",{staticClass:"font-weight-bold font-size-16 font-size-md-20"},[t._v(" "+t._s(t._f("money")(e.price)))])])])])})),a("div",{staticClass:"card",class:{"d-md-none":t.filterProducts.length%2==1,"d-none":t.filterProducts.length%2==0},staticStyle:{height:"245px"}},[a("div",{staticClass:"card-body"})])],2),a("div",{staticClass:"mb-7"},[a("Pagination",{attrs:{pages:t.pagination},on:{"emit-pages":t.getProducts}})],1)],1)},s=[],n=(a("99af"),a("4de4"),a("4160"),a("ac1f"),a("5319"),a("9911"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination font-size-24  justify-content-center"},[a("li",{staticClass:"page-item mx-0",class:{disabled:1===t.pages.current_page}},[a("a",{staticClass:"page-link border-0",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page-1)}}},[a("span",{staticClass:"material-icons align-middle",attrs:{"aria-hidden":"true"}},[t._v(" navigate_before ")])])]),t._l(t.pages.total_pages,(function(e,i){return a("li",{key:i,staticClass:"page-item mx-0",class:{active:e===t.pages.current_page,"font-weight-bold":e===t.pages.current_page}},[a("a",{staticClass:"page-link border-0",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.emitPages(e)}}},[e===t.pages.current_page?a("u",[t._v(t._s(e))]):a("span",[t._v(t._s(e))])])])})),a("li",{staticClass:"page-item mx-0",class:{disabled:t.pages.current_page===t.pages.total_pages}},[a("a",{staticClass:"page-link border-0",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.emitPages(t.pages.current_page+1)}}},[a("span",{staticClass:"material-icons align-middle",attrs:{"aria-hidden":"true"}},[t._v(" navigate_next ")])])])],2)])}),c=[],r={name:"Pagination",data:function(){return{}},props:{pages:{type:Object,default:function(){return{}}}},methods:{emitPages:function(t){this.$emit("emit-pages",t)}}},o=r,l=(a("bcf8"),a("2877")),u=Object(l["a"])(o,n,c,!1,null,null,null),d=u.exports,g={name:"Products",components:{Pagination:d},data:function(){return{isLoading:!1,category:this.$route.query.category,products:[],pagination:{},activeClass:0,classMenu:[{name:"全部",number:12,link:"all"},{name:"手做陶器",number:5,link:"手做陶器"},{name:"木作小物",number:2,link:"木作小物"},{name:"多元文創",number:1,link:"多元文創"},{name:"其他",number:1,link:"其他"}]}},created:function(){this.$bus.$emit("get-layer:layer",0),this.getProducts()},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/products?page=").concat(e,"&paged=").concat(a);this.axios.get(i).then((function(e){t.products=e.data.data,t.pagination=e.data.meta.pagination,t.filterClassNum(),t.isLoading=!1}))},getProduct:function(t){this.$router.push({path:"/product/".concat(t)})},getItem:function(t){this.activeClass=t},filterClassNum:function(){var t=this;this.classMenu.forEach((function(e){"all"===e.link?e.number=t.products.length:e.number=t.products.filter((function(t){return t.category===e.link})).length}))}},computed:{filterProducts:function(){var t=this.category;return""===t&&(t="all"),void 0!==this.$route.query.category&&(t=this.$route.query.category,this.$router.replace("/products")),"all"===t?this.products:this.products.filter((function(e){return e.category===t}))}}},p=g,f=(a("290c"),Object(l["a"])(p,i,s,!1,null,"6ab85e44",null));e["default"]=f.exports},f08e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-767a8ffc.73597929.js.map