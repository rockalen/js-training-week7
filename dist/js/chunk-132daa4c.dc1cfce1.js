(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-132daa4c"],{"560a":function(t,a,e){},"7d0c":function(t,a,e){"use strict";var s=e("f57a"),i=e.n(s);i.a},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),n=e("e8b5"),c=e("861d"),o=e("7b0b"),r=e("50c4"),d=e("8418"),l=e("65f0"),u=e("1dde"),p=e("b622"),m=e("2d00"),f=p("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",h=m>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=u("concat"),C=function(t){if(!c(t))return!1;var a=t[f];return void 0!==a?!!a:n(t)},_=!h||!v;s({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,s,i,n,c=o(this),u=l(c,0),p=0;for(a=-1,s=arguments.length;a<s;a++)if(n=-1===a?c:arguments[a],C(n)){if(i=r(n.length),p+i>g)throw TypeError(b);for(e=0;e<i;e++,p++)e in n&&d(u,p,n[e])}else{if(p>=g)throw TypeError(b);d(u,p++,n)}return u.length=p,u}})},a4f3:function(t,a,e){"use strict";var s=e("e63c"),i=e.n(s);i.a},a6e4:function(t,a,e){"use strict";var s=e("560a"),i=e.n(s);i.a},d2f1:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"product"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"product-item container"},[e("div",{staticClass:"row position-relative align-items-center mt-md-7 mb-md-5"},[e("div",{staticClass:"col-12 col-md-8"},[e("div",{staticClass:"product-card card m-md-0"},[e("img",{staticClass:"card-img-top border-0",attrs:{src:t.tempProduct.imageUrl[0],alt:"Card image cap"}}),e("div",{staticClass:"card-img-overlay p-3"},[t.tempProduct.price<t.tempProduct.origin_price?e("p",{staticClass:"card-text text-white font-size-14 text-capitalize"},[t._v("on sale")]):t._e()])])]),e("div",{staticClass:"col-12 col-md-5 position-absolute product-item-cart"},[e("div",{staticClass:"card-body bg-white p-3 py-md-5 pr-md-0 pl-md-5"},[t._m(0),e("h2",{staticClass:"card-title font-size-md-48"},[t._v(t._s(t.tempProduct.title))]),e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"cart-quantity row  no-gutters mr-md-2 mb-3 mb-md-0 order-md-2"},[e("button",{staticClass:"sub btn col-4 px-0",attrs:{disabled:1===t.tempQuantity},on:{click:function(a){return t.changeQuantity(t.tempQuantity-1)}}},[e("i",{staticClass:"material-icons align-bottom"},[t._v("remove")])]),e("input",{staticClass:"col-4 text-center border-0 font-size-20",attrs:{type:"number",min:"1",max:"99"},domProps:{value:this.tempQuantity}}),e("button",{staticClass:"add btn col-4 px-0",on:{click:function(a){return t.changeQuantity(t.tempQuantity+1)}}},[e("i",{staticClass:"material-icons align-bottom"},[t._v("add")])])]),e("p",{staticClass:"cart-price card-text w-100 font-size-24 text-right mb-md-4"},[t.tempProduct.price<t.tempProduct.origin_price?e("del",{staticClass:"text-black-50 font-size-16"},[t._v(" "+t._s(t._f("money")(t.tempProduct.origin_price))+" ")]):t._e(),e("br"),t._v(t._s(t._f("money")(t.tempProduct.price))+" ")]),e("button",{staticClass:"add-cart-btn btn btn-main btn-lg flex-md-grow-1 font-weight-bold order-md-3",attrs:{"data-toggle":"modal","data-target":"#cartModalLong"},on:{click:t.addToCart}},[t._v(" 加入購物車 ")])])])])]),e("CartsModal",{ref:"CartsModal",attrs:{msgStatus:t.msgStatus,"is-new":t.isNew}}),e("div",{staticClass:"product-content row mb-md-8 mb-5"},[e("div",{staticClass:"col-md-5"},[e("p",{staticClass:"card-text font-size-md-20"},[t._v(" "+t._s(t.tempProduct.content)+" ")])]),e("div",{staticClass:"col-md-3 text-muted"},[e("span",{domProps:{innerHTML:t._s(t.tempProduct.description)}})])])],1),t._m(1),e("Carousel",{ref:"mySwiper"})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb p-0 bg-transparent border-0 mb-2 mb-md-3"},[e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"#"}},[t._v("首頁")])]),e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"#"}},[t._v("慢慢手做")])]),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("全部")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h2",{staticClass:"container mb-3 font-weight-bold font-size-24 font-size-md-36"},[t._v("這裡"),e("sub",[t._v(" 應該還有您喜歡的手作...")])])}],n=(e("99af"),e("4160"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"carousel"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.products,(function(a,s){return e("swiper-slide",{key:s},[e("div",{staticClass:"card border-0"},[e("img",{staticClass:"card-img-top slide-img-top",attrs:{src:a.imageUrl[0],alt:"..."}}),e("div",{staticClass:"card-img-overlay p-3"},[a.price<a.origin_price?e("p",{staticClass:"card-text text-right text-white font-size-14 text-capitalize"},[t._v("on sale")]):t._e()]),e("div",{staticClass:"card-body text-left p-0 pt-1"},[e("h4",{staticClass:"card-title mb-1 text-capitalize"},[t._v(t._s(a.title))]),e("p",{staticClass:"card-text font-size-16"},[t._v(t._s(t._f("money")(a.price))+" "),a.price<a.origin_price?e("del",{staticClass:"text-black-50 ml-2"},[t._v(t._s(t._f("money")(a.origin_price)))]):t._e()])])])])})),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)}),c=[],o={name:"Carousel",title:"Centered slides",data:function(){return{isLoading:!1,products:[],swiperOption:{centeredSlides:!1,pagination:{el:".swiper-pagination",clickable:!0,type:"bullets"},slidesPerView:4.2,spaceBetween:30,slidesOffsetBefore:186,breakpoints:{320:{slidesOffsetBefore:15,slidesPerView:1.4,spaceBetween:16},480:{slidesOffsetBefore:18,slidesPerView:1.5,spaceBetween:16},640:{slidesOffsetBefore:25,slidesPerView:2,spaceBetween:20},768:{slidesOffsetBefore:50,slidesPerView:2,spaceBetween:25},1024:{slidesOffsetBefore:76,slidesPerView:2.5,spaceBetween:30},1280:{slidesOffsetBefore:89,slidesPerView:3,spaceBetween:30},1440:{slidesOffsetBefore:89,slidesPerView:3.5,spaceBetween:30}}}}},created:function(){this.getProducts(),console.log(this.swiperOption.breakpoints)},methods:{getProducts:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/products");this.$http.get(a).then((function(a){t.products=a.data.data,t.isLoading=!1}))}}},r=o,d=(e("a6e4"),e("2877")),l=Object(d["a"])(r,n,c,!1,null,"26a33f93",null),u=l.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade right",attrs:{id:"cartModalLong",tabindex:"-1",role:"dialog","aria-labelledby":"cartModalLongTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content p-3 p-md-7"},[e("div",{staticClass:"modal-header p-0 pb-3"},[e("h4",{staticClass:"modal-title font-size-md-48",attrs:{id:"cartModalLongTitle"}},[t._v("購物列表 "),e("sup",{staticClass:"text-main"},[t._v(t._s(t.carts.length))])]),t._m(0)]),e("div",{staticClass:"modal-body p-0"},[e("ul",{staticClass:"cart-list d-flex flex-column list-unstyled h-100"},[t._l(t.carts,(function(a,s){return e("li",{key:s,staticClass:"media mb-2"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:a.product.imageUrl[0],alt:"..."}})]),e("div",{staticClass:"media-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("h6",{staticClass:"mt-0 mb-1"},[t._v(t._s(a.product.title)+"（"+t._s(a.product.unit)+"）")]),e("span",{staticClass:"font-size-24",attrs:{"aria-hidden":"true"}},[t._v("×")])]),e("p",{staticClass:"mb-2"},[t._v(" "+t._s(t._f("money")(a.product.price))+" "),a.product.price<a.product.origin_price?e("del",{staticClass:"text-black-50 font-size-16"},[e("small",[t._v(t._s(t._f("money")(a.product.origin_price)))])]):t._e()]),e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("div",{staticClass:"row no-gutters mr-md-2 mb-0 bg-gray"},[e("button",{staticClass:"sub btn col-4 px-0",attrs:{disabled:1===a.quantity},on:{click:function(e){return t.updateQuantity(a.product.id,a.quantity-1)}}},[t.status.loadingBtn===a.product.id?e("i",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}}):e("i",{staticClass:"material-icons align-middle"},[t._v("remove")])]),e("input",{staticClass:"col-4 text-center border-0",attrs:{type:"number",min:"1",max:"99",disabled:t.status.loadingBtn===a.product.id},domProps:{value:a.quantity},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateQuantity(a.product.id,e.target.value)}}}),e("button",{staticClass:"add btn col-4 px-0",on:{click:function(e){return t.updateQuantity(a.product.id,a.quantity+1)}}},[t.status.loadingBtn===a.product.id?e("i",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}}):e("i",{staticClass:"material-icons align-middle"},[t._v("add")])])]),e("p",{staticClass:"mb-0 font-weight-bold"},[t._v(t._s(t._f("money")(a.quantity*a.product.price)))])])])])})),e("li",{staticClass:"footer media bg-transparent h-100"},[e("div",{staticClass:"image"}),e("div",{staticClass:"media-body p-0 d-flex flex-column justify-content-between"},[e("div",{staticClass:"row flex-wrap no-gutters h-auto"},[e("div",{staticClass:"col-6 text-secondary mb-3"},[t._v("小計")]),e("div",{staticClass:"col-6 text-right text-secondary"},[t._v(t._s(t._f("money")(this.subTotal)))]),e("div",{staticClass:"col-6 text-secondary"},[t._v("運費")]),e("div",{staticClass:"col-6 text-right text-secondary"},[t._v(t._s(t._f("money")(this.shipping)))]),e("div",{staticClass:"col-6 font-size-24 font-weight-bold my-4"},[t._v("總計")]),e("div",{staticClass:"col-6 text-right font-size-24 font-weight-bold my-4"},[t._v(t._s(t._f("money")(this.subTotal+this.shipping)))])]),t._m(1)])])],2)])])])])},m=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{staticClass:"font-size-24 font-size-md-48",attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row no-gutters"},[e("a",{staticClass:"checkout-btn btn btn-main btn-lg  font-weight-bold flex-grow-1",attrs:{href:"product-checkout.html"}},[t._v(" 結帳確認 ")])])}],f={name:"CartsModal",data:function(){return{isLoading:!1,carts:{},subTotal:0,shipping:80,status:{loadingBtn:""}}},props:{productid:{type:String,default:""},msgStatus:{type:Object,default:function(){return{}}},isNew:{type:Boolean,default:!0}},created:function(){this.getCarts()},methods:{getCarts:function(){var t=this;this.isLoading=!0,this.subTotal=0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/shopping");this.$http.get(a).then((function(a){t.carts=a.data.data,t.carts.forEach((function(a){t.subTotal+=a.product.price*a.quantity})),t.isLoading=!1}))},updateQuantity:function(t,a){var e=this;this.status.loadingBtn=t;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/shopping"),i="post";this.statusMsg="已加入購物車喔!",this.isNew||(i="patch",this.statusMsg="購物車本筆資料已完成更新!");var n={product:t,quantity:a};this.$http[i](s,n).then((function(t){e.getCarts(),e.status.loadingBtn=""}))}}},g=f,b=(e("7d0c"),Object(d["a"])(g,p,m,!1,null,"4424aa34",null)),h=b.exports,v={name:"Product",components:{Carousel:u,CartsModal:h},data:function(){return{isLoading:!1,tempProduct:{imageUrl:[],options:{}},msgStatus:{},cart:{},isNew:!0,tempQuantity:1}},created:function(){this.getProduct(),this.getCart()},methods:{getProduct:function(){var t=this;this.isLoading=!0;var a=this.$route.params.id,e="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/product/").concat(a);this.$http.get(e).then((function(a){t.tempProduct=a.data.data,t.isLoading=!1}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("1e46f421-bbae-4212-8539-55ea1c5329cf","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.cart.length&&t.cart.forEach((function(a){a.product.id===t.tempProduct.id&&(t.tempQuantity=a.quantity,t.isNew=!1)}))}))},changeQuantity:function(t){this.tempQuantity=t},addToCart:function(t){window.$("#cartModalLong").modal("show")},quantityUpdate:function(t,a){var e={product:t,quantity:a};console.log(e)}}},C=v,_=(e("a4f3"),Object(d["a"])(C,s,i,!1,null,"5bfdbae9",null));a["default"]=_.exports},e63c:function(t,a,e){},f57a:function(t,a,e){}}]);
//# sourceMappingURL=chunk-132daa4c.dc1cfce1.js.map